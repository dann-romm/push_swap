import subprocess
import random
import os

correct_count = {3: 2, 5: 12, 100: 700, 500: 5500}
length = 5
repeats = 100
numbers = list(range(1, length + 1))

for i in range(repeats):
	numbers = [random.randint(-2147483648, 2147483648) for _ in range(length)]
	# numbers = [random.randint(-1000, 1000) for _ in range(length)]
	# random.shuffle(numbers)
	
	args = " ".join([str(x) for x in numbers])
	wcl = " | wc -l"
	# os.system("./push_swap " + args)

	# print("\t", numbers)
	count_insructions = int(os.popen("./push_swap " + args + wcl).read().split()[0])
	if (length in correct_count and count_insructions > correct_count[length]):
		print(f"{count_insructions} for {length} elements is too many instructions, u r stupid bastard")
		print(args)
	intra_checker = os.popen("ARG=\"" + args + "\"; ./push_swap $ARG | ./checker_Mac $ARG").read().split()[0]
	my_checker = os.popen("ARG=\"" + args + "\"; ./push_swap $ARG | ./checker_Mac $ARG").read().split()[0]
	print(my_checker)
	# if (intra_checker != my_checker or intra_checker == "KO"):
	# 	print(f"{my_checker} there is an error, u r stupid bastard")



# ./push_swap 6 2 4 7 3 1 5
# ./push_swap 3 6 2 5 1 4 7

count_5507 = "1323502368 -759354407 1887570330 1724184882 -1100790750 302889623 1862639191 1697446875 1769271221 653798466 12823093 778642795 690295371 2057544154 26545398 -2140260237 471096617 -228646288 -412553110 1242649644 1276893989 1649008019 1435860783 39970327 -24808746 1209849015 1252387837 1422449347 -994840207 1994388705 1226737691 1112547933 -1997737924 162363185 -530191400 1997294834 139996731 131417485 -2012154221 -270829852 -1005849477 -1412759844 -624782532 -1069810391 -1293855742 1415708943 810016733 1862748642 -609769225 -1334769176 1959107641 -1274083491 -1705177932 1952730749 -1920551601 -1484809838 -490120066 -1120876004 -1226595650 -1314364012 917818037 -2097070375 -1966518967 1104344904 -61823093 -1018701360 -1998246587 -1010882757 798953704 1737889835 658848743 -552293947 -1561185295 847900683 -776554720 -1332870596 -1610577594 -179861749 -726322649 1765123783 -1881952534 -2140625880 5303985 1461795534 1118260678 1390782425 333053932 -528190983 -681349303 333188010 -258872344 360443836 183133670 1966034708 -1406478100 -1961233288 887740972 181027037 455359512 -1042986431 184523249 1351465755 -783511541 330941219 -935756882 2145680913 -872352420 877336520 709141322 -2083377756 1709521285 -145643684 586013883 -1468581815 -1373311559 12408793 -1988451169 -1133250563 1918875390 -1501841315 2071905974 1819799032 -424403684 -1446079437 1188811906 1409740097 -1296994785 680413860 -2043135743 -863858649 -989270919 1216407332 -1644852778 -785966945 -189270791 -453043362 529299548 -601507463 1117872402 -387804603 -1701580636 1765815767 1371089156 653204511 1888947557 870722672 626281016 1433565993 -690858436 -928841640 1260828454 -1978214080 210888519 1451641904 -861673505 62813946 -857229147 763698840 1022411824 -1090408977 32260047 -1725305670 -1924472032 1006800744 1780746688 1038233972 -2095897221 1579879871 -1690329783 -1238936826 -615583768 -234195677 -1394984851 816513072 -1453713797 820444922 -1338822822 -1893234588 1343708839 1379499074 1436433812 -373904858 169905628 1312852443 1566602687 -339818282 -1340725912 1955327074 -1570061247 -1055725882 -377542847 -102161427 673686960 -740559473 -933132999 257695161 -1768923797 1873786367 2120194693 -740128536 -2124258343 -728488843 913039576 -1176734923 -1229197007 1264970439 -835366191 682818847 1820015237 -705299520 703646336 466176952 664195601 1720934377 1299650638 -476369761 -1765317664 1899156512 922902457 -558273605 1338646143 1793437539 273856215 -859344377 1747915374 -1005853548 -527125192 -1550290484 1547551927 1976089141 1445210886 2066555551 291545525 -1616974954 -328415605 -7031979 1018340880 -348506698 -1307737675 1714817376 -735569420 -1026397361 392385666 722250942 1918698198 -690197450 -820034597 -1562411167 -1542400290 -335910301 -1847748860 -324693632 -1330959874 -720148805 -104660539 -760112248 1481300674 1027115588 784564149 88793272 147020221 1442350095 1159090206 1825703598 816838522 -1954719219 1089270460 -871180805 -1104380888 -635797276 1554663039 -1260451835 503720821 -522379651 -1978531136 -540181121 2095433410 -781485156 -253908101 819616908 400125043 -1204633012 2075567092 -1647484877 1564954501 -189562142 236275118 672445762 635129026 -644884563 -935818345 -2085094347 614672970 1480071771 -858211673 999207259 -566160082 1385391779 -1756391852 -2080806330 -1462765978 1603394328 19951991 -2020929079 -444354391 1757052719 -2046029852 848042581 -1168377854 -1449490580 775230686 719545787 -1801195453 1829113479 -1756259083 -1572810619 363290635 -216126214 1737666176 717527011 -790137894 126733809 -857442136 -842127104 889116579 322412270 -243691756 280991458 1621255699 -1848155841 1694334759 -1654010425 2080090761 793345715 543723055 -669292084 -776921639 1144151626 117963549 1012093988 1915773725 -1110887875 1611971273 1405190514 -1188742771 -1827025246 315915696 -1516174866 1947881680 224699679 -247255964 1400708909 -2043439687 927906842 -113626367 -105544477 1308304256 894139720 -775901215 -348167027 1374871353 223961163 -1898968741 194670991 -1551759 753318897 -237281782 1053668829 382663351 162234099 -1992175009 -1219641446 -1023892590 1725231111 1014813147 26915097 -1650751598 -594347759 2015691485 -1025040649 308566594 497696997 705874800 1173139703 -1158290662 -793416125 -1658282303 -553431316 -1387088375 -597381976 1920635413 -488213614 1182119911 -1991224132 -1360067871 753439493 -771604852 1450279641 328971363 898309710 684329455 1941255726 -1219324535 -1301251796 -649091404 -1246700775 -460274003 -1068257918 1155612055 1620195684 1345093705 1805941228 -1424250880 -2055191495 -297236683 -1812217725 -1896278350 -1195383127 -2040096546 923847584 -1224766983 1338187180 -157986471 -1880877990 1092575209 -1530179064 -600309965 -1137631641 1275931955 -1330246050 1614884868 -1031435143 -918089795 -1177729732 1889073003 -1477622468 18053921 -82375735 -2022278352 -526824289 -441482148 -877134249 -275046956 -1670227053 1469071501 -711036127 -408732133 333796632 2094386465 -1856417939 1357857492 -596634167 1781896989 -1829574995 -949253836 -672355467 -1530109937 1848201247 -1939636274 -7035897 120429973 534787487 -2122488032 682322711 1011193941 2003631834 -1422589931 -1838713501 -696187024 638222641 -1142260480 963943747 -1485346780 -216454391 1583170634 -589172251 1084081008 -1942106889 1676289101 -2093707998 259698527 -619580725 960048107 453491346 -2073668387 -1323740678 -176284106 -991816090 119231999 -1252723325 -1976095171 1240323319 -81009112 -729896584 1847646704 -1395059433 429593962 1816244437 -1363668503 1571124269"
count_5_13 = "-856702109 2085862239 1764700144 169240317 -714323408"